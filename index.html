<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฃุนูุงู ุงูุฃูุงู - ุงููุณุฎุฉ ุงูุดุงููุฉ</title>
    
    <!-- === ุฅุถุงูุงุช PWA === -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="https://i.imgur.com/Ra9c5H4.png">
    <meta name="theme-color" content="#e0e5ec">

    <!-- ุชุญููู Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- ุชุญููู ุฎุท Cairo -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;700;800&display=swap" rel="stylesheet">

    <!-- ุชุญููู ุฃููููุงุช Google Material Symbols (Rounded) -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,1,0" />
    
    <style>
        :root {
            --primary-bg: #e0e5ec;
            --dark-shadow: #a3b1c6;
            --light-shadow: #ffffff;
            --accent-color: #0984e3;
            --text-color: #33373d;
            --outset-shadow: 6px 6px 12px var(--dark-shadow), -6px -6px 12px var(--light-shadow);
            --inset-shadow: inset 6px 6px 12px var(--dark-shadow), inset -6px -6px 12px var(--light-shadow);
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--primary-bg);
            color: var(--text-color);
            -webkit-tap-highlight-color: transparent;
        }
        
        /* Reset elements */
        button, .neumo-outset, .neumo-inset, details {
            background-color: var(--primary-bg) !important;
            border: none !important;
            outline: none;
            transition: all 0.2s ease-in-out;
        }

        /* Neumorphism Styles */
        .neumo-outset {
            box-shadow: var(--outset-shadow);
            border-radius: 20px;
        }
        
        .neumo-inset {
            box-shadow: var(--inset-shadow);
            border-radius: 15px;
        }

        /* Buttons */
        .neumo-outset-btn {
            box-shadow: var(--outset-shadow);
            border-radius: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .neumo-outset-btn:active, .day-button:active .day-circle, .tasbih-btn:active {
            box-shadow: var(--inset-shadow);
            transform: scale(0.98);
        }

        /* Day Circles */
        .day-circle {
            box-shadow: var(--outset-shadow);
            border-radius: 50%;
            transition: all 0.3s ease-in-out;
            background-color: var(--primary-bg);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .day-circle.highlighted {
            box-shadow: var(--inset-shadow);
            color: var(--accent-color);
            font-weight: bold;
        }

        /* Typography & Layout */
        .page-header {
            color: var(--accent-color);
        }
        .material-symbols-rounded {
            vertical-align: middle;
        }

        /* --- ุชุตููู ูุดุบู ุงูุตูุช ุงูุฌุฏูุฏ --- */
        .custom-player-card {
            background: var(--primary-bg);
            border-radius: 20px;
            box-shadow: var(--outset-shadow);
            padding: 10px 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 0.5rem;
        }

        .play-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-color);
            box-shadow: var(--outset-shadow);
            cursor: pointer;
            transition: all 0.2s;
            flex-shrink: 0;
        }
        .play-btn:active, .play-btn.playing {
            box-shadow: var(--inset-shadow);
            color: #e84118; /* ููู ุฃุญูุฑ ุนูุฏ ุงูุชุดุบูู */
        }

        /* ุดุฑูุท ุงูุชูุฑูุฑ ุงููุฎุตุต */
        input[type="range"].custom-seek {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            background: transparent;
            cursor: pointer;
        }
        /* Track */
        input[type="range"].custom-seek::-webkit-slider-runnable-track {
            width: 100%;
            height: 6px;
            background: #d1d9e6;
            border-radius: 10px;
            box-shadow: inset 2px 2px 5px #b8b9be, inset -3px -3px 7px #ffffff;
        }
        /* Thumb */
        input[type="range"].custom-seek::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 14px;
            width: 14px;
            border-radius: 50%;
            background: var(--accent-color);
            margin-top: -4px;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
            transition: background 0.2s;
        }

        /* Prayer & Date Section Styles */
        .prayer-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.75rem;
            border-radius: 15px;
            box-shadow: var(--outset-shadow);
        }
        .prayer-card.active-prayer {
            box-shadow: var(--inset-shadow);
            color: var(--accent-color);
        }
        
        /* Details/Summary */
        details {
            border-radius: 20px;
            box-shadow: var(--outset-shadow);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        details[open] {
            box-shadow: var(--inset-shadow);
        }
        summary {
            padding: 1rem;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        summary::-webkit-details-marker { display: none; }
        summary::after {
            content: 'โ';
            font-size: 0.8rem;
            color: var(--accent-color);
            transition: transform 0.3s;
            margin-right: 0.5rem;
        }
        details[open] summary::after { transform: rotate(-90deg); }
        .details-content { padding: 1rem; border-top: 1px solid rgba(0,0,0,0.05); line-height: 1.8; }
        
        /* Modal & Utilities */
        #daily-modal-backdrop { display: none; animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        /* Copy Toast */
        #copy-toast {
            background-color: var(--primary-bg) !important;
            color: var(--accent-color);
            box-shadow: var(--outset-shadow);
            border-radius: 30px;
            pointer-events: none;
        }

        /* ุฃููุงุท ุงููุณุจุญุฉ */
        .tasbih-btn {
            box-shadow: var(--outset-shadow);
            border-radius: 50%;
            transition: all 0.1s ease;
        }
        .tasbih-btn:active {
            box-shadow: var(--inset-shadow);
        }
        
        /* ุฃููุงุท ุฃุฒุฑุงุฑ ุงููุณุจุญุฉ ุงูุฌุฏูุฏุฉ */
        .zikr-option-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 0.75rem;
            border-radius: 15px;
            text-align: center;
            transition: all 0.2s;
            height: 100%;
        }
        .zikr-option-btn:hover {
            color: var(--accent-color);
        }
        .zikr-option-btn.active {
            box-shadow: var(--inset-shadow);
            color: var(--accent-color);
            font-weight: bold;
        }

    </style>
</head>
<body class="antialiased">

    <!-- === ููุฏุงู ุงูููุงุญุธุฉ === -->
    <div id="daily-modal-backdrop" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-gray-900/20 backdrop-blur-sm">
        <div class="w-full max-w-md p-8 neumo-outset rounded-2xl text-center space-y-6">
            <div class="flex justify-center text-amber-500">
                <span class="material-symbols-rounded text-5xl">warning</span>
            </div>
            <h3 class="text-2xl font-bold text-gray-700">ููุงุญุธุฉ ูุงูุฉ</h3>
            <p class="text-base font-medium leading-relaxed text-gray-600">
                ูุจุฏุฃ ุงูููู ุงูุดุฑุนู (ูููุงู ุซู ููุงุฑุงู). ุฅุฐุง ููุช ูุถุทุฑุงู ููุนู ุฃูุฑู ูููู ุนููุ ูุนููู ุงูุชุตุฏู ุฃููุงู ููุฑุงุกุฉ ุขูุฉ ุงููุฑุณู.
            </p>
            <button id="close-modal-btn" class="neumo-outset-btn w-full py-3 font-bold text-lg text-blue-600">
                ุฅุบูุงู
            </button>
        </div>
    </div>

    <!-- === ุงูุญุงููุฉ ุงูุฑุฆูุณูุฉ === -->
    <div id="main-container" class="min-h-screen w-full flex items-center justify-center p-4 py-6">

        <div class="w-full max-w-lg space-y-8">

            <!-- === ูุณู ุฃููุงุช ุงูุตูุงุฉ ูุงูุชุงุฑูุฎ (ุงูุฌุฏูุฏ) === -->
            <div class="neumo-outset p-6 rounded-[30px] space-y-6 text-center relative overflow-hidden">
                
                <!-- ุฑุณุงูุฉ ุงููููุน (ุชุธูุฑ ุฅุฐุง ูู ูุชู ุชุญุฏูุฏ ุงููููุน) -->
                <div id="location-status" class="text-sm text-gray-500 mb-2 flex items-center justify-center gap-1">
                    <span class="material-symbols-rounded text-base animate-pulse">location_searching</span>
                    <span>ุฌุงุฑู ุชุญุฏูุฏ ุงููููุน...</span>
                </div>

                <!-- ุงูุชุงุฑูุฎ (ุงููุฌุฑู ููุท) -->
                <div class="space-y-1 py-2">
                    <h2 id="hijri-date-display" class="text-2xl font-bold text-gray-800">-- -- ---- ูู</h2>
                </div>

                <!-- ุงูุนุฏ ุงูุชูุงุฒูู -->
                <div class="neumo-inset p-4 rounded-2xl mx-4">
                    <p class="text-sm text-gray-500 mb-1">ุงูููุช ุงููุชุจูู ูุตูุงุฉ <span id="next-prayer-name" class="font-bold text-blue-600">--</span></p>
                    <div id="countdown-timer" class="text-3xl md:text-4xl font-bold text-gray-700 font-[monospace]" dir="ltr">
                        00:00:00
                    </div>
                </div>

                <!-- ุจุทุงูุงุช ุงูุตููุงุช ุงูุซูุงุซ -->
                <div class="grid grid-cols-3 gap-3 mt-4">
                    
                    <!-- ุงููุฌุฑ -->
                    <div id="card-Fajr" class="prayer-card">
                        <span class="material-symbols-rounded text-amber-500 text-2xl mb-1">wb_twilight</span>
                        <span class="text-xs font-bold text-gray-500 mb-1">ุงูุตุจุญ</span>
                        <span id="time-Fajr" class="text-sm font-bold text-gray-800" dir="ltr">--:--</span>
                    </div>

                    <!-- ุงูุธูุฑ -->
                    <div id="card-Dhuhr" class="prayer-card">
                        <span class="material-symbols-rounded text-orange-500 text-2xl mb-1">light_mode</span>
                        <span class="text-xs font-bold text-gray-500 mb-1">ุงูุธูุฑ</span>
                        <span id="time-Dhuhr" class="text-sm font-bold text-gray-800" dir="ltr">--:--</span>
                    </div>

                    <!-- ุงููุบุฑุจ -->
                    <div id="card-Maghrib" class="prayer-card">
                        <span class="material-symbols-rounded text-indigo-500 text-2xl mb-1">nights_stay</span>
                        <span class="text-xs font-bold text-gray-500 mb-1">ุงููุบุฑุจ</span>
                        <span id="time-Maghrib" class="text-sm font-bold text-gray-800" dir="ltr">--:--</span>
                    </div>
                </div>

            </div>
            <!-- ======================================= -->


            <!-- ููุญุฉ ุฃุนูุงู ุงูุฃูุงู -->
            <div class="neumo-outset p-6 md:p-8 space-y-6 rounded-[30px]">
                
                <header class="text-center pb-2">
                    <h2 class="text-2xl font-bold text-gray-700 flex items-center justify-center gap-2">
                        <span class="material-symbols-rounded text-blue-500">event_note</span>
                        ุฃุนูุงู ุงูุฃูุงู
                    </h2>
                </header>

                <section>
                    <div class="flex flex-wrap justify-center gap-4 text-center">
                        <!-- ุฃูุงู ุงูุฃุณุจูุน -->
                        <div class="day-wrapper flex flex-col items-center gap-2 day-button cursor-pointer group" data-day="ุงูุฌูุนุฉ">
                            <div class="w-16 h-16 md:w-20 md:h-20 day-circle text-sm font-bold text-gray-600">ุงูุฌูุนุฉ</div>
                        </div>
                        <div class="day-wrapper flex flex-col items-center gap-2 day-button cursor-pointer group" data-day="ุงูุณุจุช">
                            <div class="w-16 h-16 md:w-20 md:h-20 day-circle text-sm font-bold text-gray-600">ุงูุณุจุช</div>
                        </div>
                        <div class="day-wrapper flex flex-col items-center gap-2 day-button cursor-pointer group" data-day="ุงูุฃุญุฏ">
                            <div class="w-16 h-16 md:w-20 md:h-20 day-circle text-sm font-bold text-gray-600">ุงูุฃุญุฏ</div>
                        </div>
                        <div class="day-wrapper flex flex-col items-center gap-2 day-button cursor-pointer group" data-day="ุงูุงุซููู">
                            <div class="w-16 h-16 md:w-20 md:h-20 day-circle text-sm font-bold text-gray-600">ุงูุงุซููู</div>
                        </div>
                        <div class="day-wrapper flex flex-col items-center gap-2 day-button cursor-pointer group" data-day="ุงูุซูุงุซุงุก">
                            <div class="w-16 h-16 md:w-20 md:h-20 day-circle text-sm font-bold text-gray-600">ุงูุซูุงุซุงุก</div>
                        </div>
                        <div class="day-wrapper flex flex-col items-center gap-2 day-button cursor-pointer group" data-day="ุงูุฃุฑุจุนุงุก">
                            <div class="w-16 h-16 md:w-20 md:h-20 day-circle text-sm font-bold text-gray-600">ุงูุฃุฑุจุนุงุก</div>
                        </div>
                        <div class="day-wrapper flex flex-col items-center gap-2 day-button cursor-pointer group" data-day="ุงูุฎููุณ">
                            <div class="w-16 h-16 md:w-20 md:h-20 day-circle text-sm font-bold text-gray-600">ุงูุฎููุณ</div>
                        </div>
                        <!-- ุงููุณุจุญุฉ -->
                        <div class="day-wrapper flex flex-col items-center gap-2 day-button cursor-pointer group" data-day="ุงููุณุจุญุฉ">
                            <div class="w-16 h-16 md:w-20 md:h-20 day-circle text-sm font-bold text-blue-600">ุงููุณุจุญุฉ</div>
                        </div>
                    </div>
                </section>
                
                <div class="h-px bg-gray-300/50 my-4"></div>
                
                <section>
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-center">
                        <div class="neumo-outset-btn day-button h-14 text-gray-700 font-bold text-sm gap-2" data-day="ุงูููุงุฌุงุฉ ุงูุฎูุณ ุนุดุฑุฉ">
                            <span class="material-symbols-rounded text-blue-500">volunteer_activism</span>
                            ุงูููุงุฌุงุฉ ุงูู 15
                        </div>
                        <div class="neumo-outset-btn day-button h-14 text-gray-700 font-bold text-sm gap-2" data-day="ุงุฏุนูุฉ">
                            <span class="material-symbols-rounded text-green-500">auto_stories</span>
                            ุฃุฏุนูุฉ ูุฎุชุงุฑุฉ
                        </div>
                        <div class="neumo-outset-btn day-button h-14 text-gray-700 font-bold text-sm gap-2" data-day="ุงุฏุนูุฉ ุงูุฌูุนุฉ">
                            <span class="material-symbols-rounded text-purple-500">mosque</span>
                            ุฃุฏุนูุฉ ุงูุฌูุนุฉ
                        </div>
                    </div>
                </section>

            </div>
            
            <footer class="text-center text-xs text-gray-400 pb-4">
                By sauron
            </footer>
        </div>
    </div>

    <!-- === ุตูุญุฉ ุงูุชูุงุตูู (ูุฎููุฉ) === -->
    <div id="day-page-container" class="min-h-screen w-full flex items-start justify-center p-4 hidden opacity-0 transition-opacity duration-300 py-8">
        <div class="w-full max-w-4xl p-6 md:p-8 space-y-6 neumo-outset rounded-[30px]">
            <div class="flex items-center justify-between">
                <button id="back-button" class="neumo-outset-btn px-6 py-2 text-gray-600 font-bold gap-2">
                    <span class="material-symbols-rounded">arrow_forward</span>
                    ุฑุฌูุน
                </button>
            </div>
            <h2 id="page-title" class="text-2xl font-bold text-center text-blue-600 pb-2 border-b border-gray-200"></h2>
            <div id="page-content" class="space-y-4 pt-2"></div>
        </div>
    </div>

    <!-- ุฃุฏูุงุช ุงููุณุฎ -->
    <textarea id="copy-helper" class="absolute -top-full opacity-0 pointer-events-none"></textarea>
    <div id="copy-toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 z-50 px-6 py-3 transition-all duration-300 opacity-0 transform translate-y-5 flex items-center gap-2">
        <span class="material-symbols-rounded">content_copy</span>
        <span>ุชู ุงููุณุฎ!</span>
    </div>

    <!-- ุตูุช ุงูููุฑ ูููุณุจุญุฉ -->
    <audio id="tasbih-click-sound" src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAAHAAACnwABBwsMDxATFhgbHR8iJSksLzIzNjk8QEJGSEtOUFFVWVxdYWJkZmhqbW9xdHZ5fH6Ag4aJi46QkpWYmZqcn6CkpqqrrrC0trm8v8HDxsnLztHT1tjb3d/h5Obp7O7w8vX3+fv9//uQZAAPAAADSAAAAABAAAAAAAAAAAAAgAAAAAAAAAAAAAAABAAA//uQZAAPAAADSAAAAABAAAAAAAAAAAAAgAAAAAAAAAAAAAAABAAA//uQZAAPAAADSAAAAABAAAAAAAAAAAAAgAAAAAAAAAAAAAAABAAA//uQZAAPAAADSAAAAABAAAAAAAAAAAAAgAAAAAAAAAAAAAAABAAA//uQZAAPAAADSAAAAABAAAAAAAAAAAAAgAAAAAAAAAAAAAAABAAA//uQZAAPAAADSAAAAABAAAAAAAAAAAAAgAAAAAAAAAAAAAAABAAA//uQZAAPAAADSAAAAABAAAAAAAAAAAAAgAAAAAAAAAAAAAAABAAA//uQZAAPAAADSAAAAABAAAAAAAAAAAAAgAAAAAAAAAAAAAAABAAA"></audio>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- 1. ุชููุฆุฉ ุงููุชุบูุฑุงุช ---
            const locationStatus = document.getElementById('location-status');
            const hijriDateDisplay = document.getElementById('hijri-date-display');
            const countdownTimer = document.getElementById('countdown-timer');
            const nextPrayerName = document.getElementById('next-prayer-name');
            
            const prayerTimesEls = {
                Fajr: document.getElementById('time-Fajr'),
                Dhuhr: document.getElementById('time-Dhuhr'),
                Maghrib: document.getElementById('time-Maghrib')
            };
            const prayerCards = {
                Fajr: document.getElementById('card-Fajr'),
                Dhuhr: document.getElementById('card-Dhuhr'),
                Maghrib: document.getElementById('card-Maghrib')
            };

            let prayerTimesData = null; // ูุชุฎุฒูู ุงูุจูุงูุงุช ุงููุฌููุจุฉ

            // --- 2. ุฌูุจ ุงููููุน ูุฃููุงุช ุงูุตูุงุฉ ---
            function initPrayerTimes() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(fetchData, handleError);
                } else {
                    locationStatus.textContent = "ุงููุชุตูุญ ูุง ูุฏุนู ุชุญุฏูุฏ ุงููููุน.";
                }
            }

            function handleError(error) {
                let msg = "ุชุนุฐุฑ ุชุญุฏูุฏ ุงููููุน.";
                if (error.code === 1) msg = "ูุฑุฌู ุงูุณูุงุญ ุจุชุญุฏูุฏ ุงููููุน ูุนุฑุถ ุฃููุงุช ุงูุตูุงุฉ.";
                locationStatus.textContent = msg;
                locationStatus.classList.add('text-red-500');
            }

            function fetchData(position) {
                const lat = position.coords.latitude;
                const lng = position.coords.longitude;
                const timestamp = Math.floor(Date.now() / 1000);
                
                locationStatus.innerHTML = `<span class="material-symbols-rounded text-base animate-pulse">location_searching</span> ุฌุงุฑู ุฌูุจ ุงุณู ุงููุฏููุฉ...`;

                // 1. ุฌูุจ ุฃููุงุช ุงูุตูุงุฉ
                const apiUrl = `https://api.aladhan.com/v1/timings/${timestamp}?latitude=${lat}&longitude=${lng}&method=auto`;

                fetch(apiUrl)
                    .then(response => response.json())
                    .then(data => {
                        if (data.code === 200) {
                            updateDashboard(data.data);
                        }
                    })
                    .catch(err => {
                        console.error("Error fetching prayer times:", err);
                    });
                
                // 2. ุฌูุจ ุงุณู ุงููุฏููุฉ (Reverse Geocoding)
                fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lng}&localityLanguage=ar`)
                    .then(res => res.json())
                    .then(data => {
                        const city = data.city || data.locality || data.principalSubdivision || 'ูููุน ุบูุฑ ูุนุฑูู';
                        locationStatus.innerHTML = `<span class="material-symbols-rounded text-green-600 text-sm">my_location</span> ${city}`;
                    })
                    .catch(() => {
                        locationStatus.innerHTML = `<span class="material-symbols-rounded text-green-600 text-sm">my_location</span> ุชู ุชุญุฏูุฏ ุงููููุน`;
                    });
            }

            function updateDashboard(data) {
                const timings = data.timings;
                const hijri = data.date.hijri;

                // 1. ุชุญุฏูุซ ุงูุชุงุฑูุฎ (ูุฌุฑู ููุท)
                hijriDateDisplay.textContent = `${hijri.weekday.ar}, ${hijri.day} ${hijri.month.ar} ${hijri.year} ูู`;
                
                // 2. ุชุญุฏูุซ ุฃููุงุช ุงูุตููุงุช ุงูุซูุงุซ (ุชูุณูู 12 ุณุงุนุฉ)
                prayerTimesData = {
                    Fajr: timings.Fajr,
                    Dhuhr: timings.Dhuhr,
                    Maghrib: timings.Maghrib
                };

                for (let [key, timeStr] of Object.entries(prayerTimesData)) {
                    // timeStr comes as HH:MM (24h)
                    prayerTimesEls[key].textContent = convertTo12Hour(timeStr);
                }

                // 3. ุจุฏุก ุงูุนุฏ ุงูุชูุงุฒูู
                startCountdown(timings);
            }

            function convertTo12Hour(time24) {
                let [hours, minutes] = time24.split(':');
                hours = parseInt(hours);
                const suffix = hours >= 12 ? 'ู' : 'ุต';
                hours = hours % 12 || 12;
                return `${hours}:${minutes} ${suffix}`;
            }

            function startCountdown(timings) {
                const prayersOrder = [
                    { key: 'Fajr', name: 'ุงูุตุจุญ' },
                    { key: 'Dhuhr', name: 'ุงูุธูุฑ' },
                    { key: 'Maghrib', name: 'ุงููุบุฑุจ' }
                ];

                setInterval(() => {
                    const now = new Date();
                    let nextPrayer = null;
                    let minDiff = Infinity;

                    // ุงูุจุญุซ ุนู ุงูุตูุงุฉ ุงููุงุฏูุฉ ุงูููู
                    for (let p of prayersOrder) {
                        const pTime = new Date();
                        const [h, m] = timings[p.key].split(':');
                        pTime.setHours(h, m, 0, 0);

                        if (pTime > now) {
                            const diff = pTime - now;
                            if (diff < minDiff) {
                                minDiff = diff;
                                nextPrayer = { ...p, time: pTime };
                            }
                        }
                    }

                    // ุฅุฐุง ูู ูุฌุฏ ุตูุงุฉ ุงูููู (ุฃู ูุญู ุจุนุฏ ุงููุบุฑุจ)ุ ูุงูุตูุงุฉ ุงููุงุฏูุฉ ูู ุงููุฌุฑ ุบุฏุงู
                    if (!nextPrayer) {
                        const pTime = new Date();
                        pTime.setDate(pTime.getDate() + 1);
                        const [h, m] = timings['Fajr'].split(':');
                        pTime.setHours(h, m, 0, 0);
                        nextPrayer = { key: 'Fajr', name: 'ุงูุตุจุญ', time: pTime };
                        minDiff = pTime - now;
                    }

                    // ุชุญุฏูุซ ุงููุงุฌูุฉ
                    nextPrayerName.textContent = nextPrayer.name;
                    
                    // ุชูููุฒ ุงูุจุทุงูุฉ ุงููุดุทุฉ
                    document.querySelectorAll('.prayer-card').forEach(c => c.classList.remove('active-prayer'));
                    if (prayerCards[nextPrayer.key]) {
                        prayerCards[nextPrayer.key].classList.add('active-prayer');
                    }

                    // ุชูุณูู ุงูููุช ุงููุชุจูู
                    const hours = Math.floor((minDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((minDiff % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((minDiff % (1000 * 60)) / 1000);

                    countdownTimer.textContent = 
                        `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                }, 1000);
            }

            // ุจุฏุก ุงูุชุทุจูู
            initPrayerTimes();

            // --- (ุจูุงูุงุช ุงูุฃูุงู) ---
            const daysData = {
                "ุงูุฌูุนุฉ": {
                    sections: [
                        { type: 'card', content: 'โ ููู ุตุงูุญ ูุดุฑุงุก ูุงูุชูุงุก ูุฎูุงุทุฉ ุงูุซูุงุจ ูุงูููุงุจุณ.', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: '<ul class="list-disc list-inside space-y-2 pr-2 marker:text-blue-500"><li>ูุณุชุญุจ ููู ุงูุบูุณู ูุจู ุงูุฒูุงู ูุตูุงุฉ ุงูุฌูุนุฉ .</li><li>ุงูููุงุฑุจุฉ ุงูุฒูุฌูุฉ ุงูููู ุจุนุฏ ูุถููุฉ ุตูุงุฉ ุงูุนุตุฑ ูุณุชุญุจุฉ ูุงูููููุฏ ุงูุญุงุตู ุนุงูู ูุดููุฑ ูู ุงูุนุงูู ุ ููุฑุงููุชูุง ูุจู ุตูุงุฉ ุงูุธูุฑ .</li><li>ูู ุฃุฑุงุฏ ุงูุญุฌุงูุฉ ูููุญุชุฌู ุงูุฌูุนุฉ ุนุตุฑุงู</li><li>ุชูููู ุงูุฃุธุงูุฑ ุงูุฌูุนุฉ ูุฑุฏ ุนู ุงููุจู (ุตูู ุงููู ุนููู ูุขูู): (ุชูููู ุงูุฃุธุงูุฑ ููู ุงูุฌูุนู ูุคูู ุงูุฌุฐุงู ุ ูุงูุฌููู ุ ูุงูุจุฑุต ุ ูุงูุนูู ุ ูุฅู ูู ุชุญุชุฌ ูุญููุง) .ููู ุฎุจุฑ ุขุฎุฑ ูุฏุฑ ุงูุฑุฒู ููู ุฃูู ููู ูุชูููู ุงูุฃุธุงูุฑ ููู ููู ุฃุธุงูุฑู ููู ุงูุฌูุนุฉ ุงุฎุฑุฌ ุงููู ููู ุงูุฏุงุก ูุฃุฏุฎูู ููู ุงูุฏูุงุก.</li></ul>' },
                        { type: 'card', content: '<strong>๐ ููุช ุงูุงุณุชุฎุงุฑุฉ:</strong> ุฌูุฏุฉ ุนูุฏ ุทููุน ุงูุดูุณ ูุนูุฏ ุงูุนุดุงุก ู ุฑุฏูุฆุฉ ุุนูุฏ ุงูุนุตุฑ ูุงูุถุญู.' },
                        { type: 'copyable', title: ' ุชุณุจูุญ ุงูููู:', text: 'ุงูููู ุตู ุนูู ูุญูุฏ ูุขู ูุญูุฏ ูุนุฌู ูุฑุฌูู ูุฃููู ุนุฏููู ุ ูุงุงููู ูุง ูู', subtext: 'ุงูุนุฏุฏ ( ูกูู ) ูุฑุฉ.' },
                        { type: 'card', content: '<strong> ุฒูุงุฑุฉ ุงูููู :</strong> ุฒูุงุฑุฉ ูููุงูุง ุตุงุญุจ ุงูุนุตุฑ ูุงูุฒูุงู ุฑูุญู ูุฏุงู .' },
                        { type: 'details', title: ' ุตูุงุฉ ุงูููู:', content: 'ุฑูุนุชูู ูู ุบูุฑ ุตูุงุฉ ุงูุฌูุนุฉ ุชูุฑุฃ ูู ุงูุฃููู : ุณูุฑุฉ ุฅุจุฑุงููู ููู ุงูุซุงููุฉ ุณูุฑุฉ ุงูุญุฌุฑ ุ ูู ูุตุจู ููุฑ ุฃุจุฏุงู ููุง ุฌููู ููุง ุจููู .' },
                        { type: 'copyable', title: '๐ฟ ุฐูุฑ ุงูููู:', text: 'ูุง ููุฑ', subtext: 'ุงูุนุฏุฏ ( ูขูฅูฆ ) ูุฑุฉ.' }
                    ]
                },
                "ุงูุณุจุช": {
                    sections: [
                        { type: 'card', content: 'โ ุงูููุงุฑุจุฉ ุงูุฒูุฌูุฉ ( ูููุฉ ุงูุฃุญุฏ ) ุบูุฑ ุฌูุฏุฉ ูุงูููููุฏ ููู ูููู ูุดุคููุง ุซูููุงู.', style: 'text-red-600 font-semibold' },
                        { type: 'card', content: 'โ ูุตุญ ููู ( ุงูุญุฌุงูุฉ ูุงููุตุฏ) .', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: 'โ ููุฑู ุชูููู ุงูุงุธุงูุฑ ููู ุงูุณุจุช (ูู ููู ุฃุธุงูุฑู ููู ุงูุณุจุช ููุนุช ุงูุขููุฉ ูู ุฃุตุงุจุนู)', style: 'text-red-600 font-semibold' },
                        { type: 'card', content: 'โ ูุง ูุตูุญ ููู ุดุฑุงุก ุฃู ุฎูุงุทุฉ ุฃู ุฃูุชูุงุก ุงูุซูุงุจ ูุงูููุงุจุณ.', style: 'text-red-600 font-semibold' },
                        { type: 'card', content: '<strong>๐ ููุช ุงูุงุณุชุฎุงุฑุฉ:</strong> ุฌูุฏุฉ ุฅูู ุงูุถุญู ูุงูุนุตุฑ ู ุฑุฏูุฆุฉ ุุนูุฏ ุงูุนุตุฑ ูุงูุถุญู .' },
                        { type: 'copyable', title: ' ุชุณุจูุญ ุงูููู:', text: 'ูุงุฑุจ ุงูุนุงูููู ูุง ุฑุญูู ูุง ุฑุญูู', subtext: '( ูกูู )ูุฑุฉ.' },
                        { type: 'card', content: '<strong> ููุงุฌุงุฉ ุงูููู:</strong> ุงููุญุจูู + ุงูุดุงููู + ุงููุทูุนูู ููู' },
                        { type: 'card', content: '<strong> ุฒูุงุฑุฉ ุงูููู :</strong> ุฒูุงุฑุฉ ุงููุจู ุงูุงูุฑู ุตูู ุงููู ุนููู ูุขูู ูุณูู .' },
                        { type: 'details', title: ' ุตูุงุฉ ุงูููู:', content: 'ุฑูู ุงูุณูุฏ ุงุจู ุทุงููุณ ุนู ุงูุฅูุงู ุงูุนุณูุฑู ุนูููโุงูุณูุงู ูุงู : ูู ุตููู ููู ุงูุณุจุช ุฃุฑุจุน ุฑูุนุงุช ููุฑุฃ ูู ูู ุฑูุนุฉ ูุงุชุญุฉ ุงููุชุงุจ ููู ูู ุงููู ุฃุญุฏ ูุขูุฉ ุงููุฑุณู ูุชุจู ุงููู ุนุฒูู ูุฌููู ูู ุฏุฑุฌุฉ ุงููุจููู ูุงูุดูุฏุงุก ูุงูุตุงูุญูู ูุญุณู ุฃููุฆู ุฑูููุง .' },
                        { type: 'copyable', title: '๐ฟ ุฐูุฑ ููู ุงูุณุจุช:', text: 'ูุง ุบูู', subtext: 'ุงูุนุฏุฏ ( ูกููฆู ) ูุฑุฉโ' }
                    ]
                },
                "ุงูุฃุญุฏ": {
                    sections: [
                        { type: 'card', content: 'โ ุงูููุงุฑุจุฉ ุงูุฒูุฌูุฉ ุฌูุฏุฉ ูุงูููููุฏ ุงูุญุงุตู ุญุงูุธุง ูฺฉุชุงุจ ุงููู.', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: 'โ ุงุณุชุญุจุงุจ ุงูุญุฌุงูุฉ . ุจุนุฏ ุงูุฒูุงู .', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: 'โ ุชูููู ุงูุฃุธุงูุฑ ุบูุฑ ุฌูุฏ ุ ููุฐูุจ ุงูุจุฑูู ุ ููุง ุฑูู (ูู ููู ุฃุธุงูุฑู ููู ุงูุฃุญุฏ ุฐูุจุช ุงูุจุฑูู ูู ูุฏู) .', style: 'text-red-600 font-semibold' },
                        { type: 'card', content: 'โ ูุง ูุตูุญ ูุดุฑุงุก ูุงูุชูุงุก ูุฎูุงุทุฉ ุงูุซูุงุจ ูุงูููุงุจุณ.', style: 'text-red-600 font-semibold' },
                        { type: 'card', content: '<strong>๐ ููุช ุงูุงุณุชุฎุงุฑุฉ:</strong> ุฌูุฏุฉ ุนูุฏ ุทููุน ุงูุดูุณ ูุนูุฏ ุงูุนุดุงุก ู ุฑุฏูุฆุฉ ุุนูุฏ ุงูุนุตุฑ ูุงูุถุญู' },
                        { type: 'copyable', title: ' ุชุณุจูุญ ุงูููู:', text: 'ูุง ุฐุง ุงูุฌูุงู ูุงูุงูุฑุงู ูุง ูุงุญุฏ ูุง ุฃุญุฏ', subtext: '( ูกูู )ูุฑุฉ.' },
                        { type: 'card', content: '<strong> ููุงุฌุงุฉ ุงูููู:</strong> ุงูุฎุงุฆููู + ุงููุชูุณููู' },
                        { type: 'card', content: '<strong> ุฒูุงุฑุฉ ุงูููู :</strong> ุฒูุงุฑุฉ ุฃูููุฑู ุงูููุคููููู ูุงูุณูุฏุฉ ุงูุฒูููุฑุงุกู ุณููุงูู ุงููู ุนูููููุง' },
                        { type: 'details', title: ' ุตูุงุฉ ุงูููู:', content: 'ูู ุตูู ููู ุงูุฃุญุฏ ุฃุฑุจุน ุฑูุนุงุช ููุฑุก ูู ูู ุฑูุนุฉ ุจูุงุชุญุฉ ุงููุชุงุจ ูุขูู ุงูุฑุณูู๐ ูุฑุฉุ ูุชุจ ุงููู ุจุนุฏุฏ ูู ูุตุฑุงูู ููุตุฑุงููุฉ ุญุณูุงุชุ ูุฃุนุทุงู ุงููู ุชุนุงูู ุซูุงุจ ุงูู ูุจูุ ููุชุจ ูู ุฃูู ุญุฌุฉ ูุนูุฑุฉ ููุชุจ ูู ุจูู ุฑูุนุฉ ุฃูู ุตูุงุฉุ ูุฃุนุทุงู ุงููู ูู ุงูุฌูุฉ ุจูู ุญุฑู ูุฏููุฉ ูู ูุณู .' },
                        { type: 'copyable', title: '๐ฟ ุฐูุฑ ููู ุงูุฃุญุฏ:', text: 'ูุง ูุชุงุญ', subtext: 'ุงูุนุฏุฏ (ูคูจูฉ) ูุฑุฉ' }
                    ]
                },
                "ุงูุงุซููู": {
                    sections: [
                        { type: 'card', content: 'โ ููู ุงูุฅุซููู ููู ููุงุณุจ ูุชูููู ุงูุฃุธุงูุฑ ู ูู ุจุฑูุงุช ูู ูุจูู ุฃูู ูุตุจุญ ูุงุฑุฆ ู ุญุงูุธ ููุชุงุจ ุงููู ุงููุฑูู.', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: 'โ ูุตูุญ ููููุงุฑุจุฉ ุงูุฒูุฌูุฉ . ูููุงู', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: 'โ ูู ุฃุฑุงุฏ ุงูุญุฌุงูุฉ ูููุญุชุฌู ููู ุงูุงุซููู .', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: 'โ ููู ุตุงูุญ ูุดุฑุงุก ูุงูุชูุงุก ูุฎูุงุทุฉ ุงูุซูุงุจ ูุงูููุงุจุณ.', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: '<strong>๐ ููุช ุงูุงุณุชุฎุงุฑุฉ:</strong> ุฌูุฏุฉ ุ ุญูู ุทููุน ุงูุดูุณ ูุงููุบุฑุจ ูุงูุนุดุงุก' },
                        { type: 'copyable', title: ' ุชุณุจูุญ ุงูููู:', text: 'ูุง ูุงุถู ุงูุญุงุฌุงุช ูุง ูุฑุฏ ูุง ุตูุฏ', subtext: '( ูกูู ูุฑุฉ )' },
                        { type: 'card', content: '<strong> ููุงุฌุงุฉ ุงูููู:</strong> ุงูููุชูุฑูู + ุงูุฑุงุฌูู' },
                        { type: 'card', content: '<strong> ุฒูุงุฑุฉ ุงูููู :</strong> ุฒูุงุฑุฉ ุงูุฅูุงููู ุงูุญุณู ูุงูุญุณูู ุนููููุง ุงูุณูุงู' },
                        { type: 'details', title: ' ุตูุงุฉ ุงูููู:', content: 'ุฑูู ุงูุณูุฏ ุงุจู ุทุงููุณ ุนู ุงูุฅูุงู ุงูุนุณูุฑู ุนูููโุงูุณูุงู ูุงู : ูู ุตููู ููู ุงูุงุซููู ุนุดุฑ ุฑูุนุงุช ููุฑุฃ ูู ูู ุฑูุนุฉ ูุงุชุญุฉ ุงููุชุงุจ ููู ูู ุงููู ุฃุญุฏ ุนุดุฑุงู ุฌุนู ุงูููู ูู ุฅูู ููู ุงูุฌูุนุฉ ููุฑุงู ูุถู ููู ุงููููู ุญุชู ูุบุจุทู ุจู ุฌููุน ูู ุฎูู ุงููู ูู ุฐูู ุงูููู .' },
                        { type: 'copyable', title: '๐ฟ ุฐูุฑ ุงูููู:', text: 'ูุง ูุทูู', subtext: 'ุงูุนุฏุฏ ( ูกูขูฉ ) ูุฑุฉ' }
                    ]
                },
                "ุงูุซูุงุซุงุก": {
                    sections: [
                        { type: 'card', content: 'โ ููู ุตุงูุญ ููุญุฌุงูุฉ ูุงููุตุฏ.', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: 'โ ููู ุตุงูุญ ููููุงุฑุจุฉ ุงูุฒูุฌูุฉ .', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: 'โ ุงูุชูููู ุบูุฑ ุฌูุฏ ุ ูุฎุงู ุงูููุงู ุ ูููุฑูู ุนู ุงููุจู( ุตูู ุงููู ุนููู ูุขูู): (ูู ููู ุฃุธุงูุฑู ููู ุงูุซูุงุซุงุก ูุฎุงู ุงูููุงู ุนููู).', style: 'text-red-600 font-semibold' },
                        { type: 'card', content: 'โ ูุง ูุตูุญ ูุดุฑุงุก ูุฎูุงุทุฉ ูุงูุชูุงุก ุงูุซูุงุจ ูุงูููุงุจุณ .', style: 'text-red-600 font-semibold' },
                        { type: 'card', content: '<strong>๐ ููุช ุงูุงุณุชุฎุงุฑุฉ:</strong> ุฌูุฏุฉ ุนูุฏ ุงูุธูุฑ ูุงูุนุดุงุก ู ุฑุฏูุฆุฉ ุนูุฏ ุงูุถุญู ูุงูุนุตุฑ' },
                        { type: 'copyable', title: ' ุชุณุจูุญ ุงูููู:', text: 'ูุง ุฃุฑุญู ุงูุฑุงุญููู ูุง ุญู ูุง ูููู', subtext: 'ุงูุนุฏุฏ ( ูกูู ) ูุฑุฉ.' },
                        { type: 'card', content: '<strong> ููุงุฌุงุฉ ุงูููู:</strong> ุงูุฑุงุบุจูู + ุงูุนุงุฑููู .' },
                        { type: 'card', content: '<strong> ุฒูุงุฑุฉ ุงูููู :</strong> ุฒูุงุฑุฉ ุนูู ุจู ุงูุญุณูู ุงูุณุฌุงุฏ ููุญูุฏ ุจู ุนูู ุงูุจุงูุฑ ุ ูุฌุนูุฑ ุจู ูุญูุฏ ุงูุตุงุฏู' },
                        { type: 'details', title: ' ุตูุงุฉ ุงูููู:', content: 'ุฑูู ุงูุณูุฏ ุงุจู ุทุงููุณ ุนู ุงูุฅูุงู ุงูุนุณูุฑู ุนูููโุงูุณูุงู ูุงู : ูู ุตููู ููู ุงูุซูุงุซุงุก ุณุช ุฑูุนุงุช ููุฑุฃ ูู ูู ุฑูุนุฉ ูุงุชุญุฉ ุงููุชุงุจ ูุขูุฉ : ุขูู ุงูุฑุณูู ุฅูู ุขุฎุฑูุง ูุณูุฑุฉ ุฅุฐุง ุฒูุฒูุช ูุฑุฉ ูุงุญุฏุฉ ุบูุฑ ุงููู ูู ุฐููุจู ุญุชู ูุฎุฑุฌ ูููุง ูููู ููุฏุชู ุฃููู.' },
                        { type: 'copyable', title: '๐ฟ ุฐูุฑ ุงูููู:', text: 'ูุง ูุงุจุถ', subtext: 'ุงูุนุฏุฏ ( ูฉููฃ ) ูุฑุฉ' }
                    ]
                },
                "ุงูุฃุฑุจุนุงุก": {
                    sections: [
                        { type: 'card', content: 'โ ุชููููุง ุงูุญุฌุงูุฉ ูุงูููุฑุฉ ููู ุงูุงุฑุจุนุงุก . ูููุงู', style: 'text-red-600 font-semibold' },
                        { type: 'card', content: 'โ ุงูููุงุฑุจุฉ ุงูุฒูุฌูุฉ ุฌูุฏุฉ ู ุงูููููุฏ ุงูุญุงุตู ุนุงูู ูู ุงูุนููุงุก ุฃู ุญุงูู ูู ุงูุญูุงู .', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: 'โ ุฎูุงุทุฉ ุฃู ุฃูุชูุงุก ุฃู ุดุฑุงุก ุงูุซูุงุจ ูุงูููุงุจุณ ูููุง ูููุนุฉ.', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: 'โ ุชูููู ุงูุฃุธุงูุฑ ููู ุงูุงุฑุจุนุงุก ุบูุฑ ุฌูุฏ ูููุฑุซ ุณูุก ุงูุฎูู ุ ููุง ุฌุงุก ูู ุจุนุถ ุงูุฃุฎุจุงุฑ ุนู ุฃุฆูุฉ ุฃูู ุงูุจูุช ุนูููู ุงูุณูุงู: (ูู ููู ุฃุธุงูุฑู ููู ุงูุฃุฑุจุนุงุก ูุตูุฑ ุณูุก ุงูุฎูู) .', style: 'text-red-600 font-semibold' },
                        { type: 'card', content: '<strong>๐ ููุช ุงูุงุณุชุฎุงุฑุฉ:</strong> ุฌูุฏุฉ ุนูุฏ ุงูุฒูุงู ู ุฑุฏูุฆุฉ ุุนูุฏ ุงูุนุตุฑ.' },
                        { type: 'copyable', title: ' ุชุณุจูุญ ุงูููู:', text: 'ูุง ุญู ุงููููู ูุง ุญูุงู ูุง ููุงู', subtext: 'ุงูุนุฏุฏ ( ูกูู ) ูุฑุฉ.' },
                        { type: 'card', content: '<strong> ููุงุฌุงุฉ ุงูููู:</strong> ุงูุฐุงูุฑูู + ุงูุดุงูุฑูู' },
                        { type: 'card', content: '<strong> ุฒูุงุฑุฉ ุงูููู :</strong> ุฒูุงุฑุฉ ุงูุงุฆูุฉ ุนูููู ุงูุณูุงู ููุณู ุจู ุฌุนูุฑ ุงููุงุธูุ ูุนูู ุจู ููุณู ุงูุฑุถุงุ ููุญูุฏ ุนูู ุฌูุงุฏ ุ ูุนูู ุจู ูุญูุฏ ุงููุงุฏู ( ุนูููู ุงูุณูุงู ุฌููุนุงู)' },
                        { type: 'details', title: ' ุตูุงุฉ ุงูููู:', content: 'ุฑูู ุงูุณูุฏ ุงุจู ุทุงููุณ ุนู ุงูุฅูุงู ุงูุนุณูุฑู ุนูููโุงูุณูุงู ูุงู : ูู ุตูู ููู ุงูุฃุฑุจุนุงุก ุฃุฑุจุน ุฑูุนุงุช ููุฑุฃ ูู ูู ุฑูุนุฉ ุงูุญูุฏ ูุงูุงุฎูุงุต ูุณูุฑุฉ ุงููุฏุฑ ูุฑุฉ ูุงุญุฏุฉ ุชุงุจ ุงููู ุนููู ูู ูู ุฐูุจ ูุฒููุฌู ุจุฒูุฌุฉ ูู ุงูุญูุฑ ุงูุนูู.' },
                        { type: 'copyable', title: '๐ฟ ุฐูุฑ ุงูููู:', text: 'ูุง ูุชุนุงู', subtext: 'ุงูุนุฏุฏ ( ูฅูคูก ) ูุฑุฉ' }
                    ]
                },
                "ุงูุฎููุณ": {
                    sections: [
                        { type: 'card', content: 'โ ุงูููุงุฑุจุฉ ุงูุฒูุฌูุฉ ูููุฉ ุงูุฌูุนุฉ ุฌูุฏุฉ. ูุงูููููุฏ ููู ูุฑุฒููุงู ุทููู ุงูุนูุฑ . ูุตูุญุช ุณุฑูุฑุชู ูุนุงุด ุณุนูุฏุงู .', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: 'โ ููู ุงูุฎููุณ ููู ููุงุณุจ ุฌุฏุงู ูุชูููู ุงูุฃุธุงูุฑ ุ ูุฌูุจ ุตุญุฉ ุงูุฌุณู ู ุดูุงุก ููุขูุงู..', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: 'โ ุงุณุชุญุจุงุจ ุงูุญุฌุงูุฉ ูุงููุตุฏ ููู ุงูุฎููุณ.', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: 'โ ูุตูุญ ููู ุดุฑุงุก ุฃู ุฎูุงุทุฉ ุฃู ุฃูุชูุงุก ุงูุซูุงุจ ูุงูููุงุจุณ ุจู ูุฑุฏุช ุฃู ูููุง ูููุนุฉ .', style: 'text-green-700 font-semibold' },
                        { type: 'card', content: '<strong>๐ ููุช ุงูุงุณุชุฎุงุฑุฉ:</strong> ุฌูุฏุฉ ุนูุฏ ุทููุน ุงูุดูุณ ูุนูุฏ ุงูุนุดุงุก ู ุฑุฏูุฆุฉ ุุนูุฏ ุงูุนุตุฑ ูุงููุบุฑุจ' },
                        { type: 'copyable', title: ' ุชุณุจูุญ ุงูููู:', text: 'ูุง ุงูู ุงูุง ุงููู ุงูููู ุงูุญู ุงููุจูู ุ ูุง ุฐุง ุงูุฌูุงู ูุงูุงูุฑุงู', subtext: 'ุงูุนุฏุฏ ( ูกูู ) ูุฑุฉ.' },
                        { type: 'card', content: '<strong> ููุงุฌุงุฉ ุงูููู:</strong> ุงูุฒุงูุฏูู + ุงููุนุชุตููู' },
                        { type: 'card', content: '<strong> ุฒูุงุฑุฉ ุงูููู :</strong> ุฒูุงุฑุฉ ุงูุฅูุงู ุงูุญุณู ุจู ุนูู ุงูุนุณูุฑู ุนููููุง ุงูุณูุงู .' },
                        { type: 'details', title: ' ุตูุงุฉ ุงูููู:', content: 'ุฑูู ุนู ุงููุจู ( ุตูู ุงููู ุนููู ู ุขูู ) ุงูู ูุงู : ูู ุตูู ููู ุงูุฎููุณ ุงุฑุจุน ุฑูุนุงุช ุ ููุฑุฃ ูู ุงูุงููู ูููู ุงูุญูุฏ ูุฑุฉ ู ุงุญุฏู ุนุดุฑ ูุฑุฉ ูู ูู ุงููู ุงุญุฏ ุ ู ูู ุงูุซุงููุฉ ุงูุญูุฏ ูุฑุฉ ูุงุญุฏู ู ุนุดุฑูู ูุฑุฉ ูู ูู ุงููู ุงุญุฏ ุ ู ูู ุงูุซุงูุซุฉ ุงูุญูุฏ ูุฑุฉ ู ูุงุญุฏู ู ุซูุงุซูู ูุฑุฉ ูู ูู ุงููู ุงุญุฏ ุ ู ูู ุงูุฑุงุจุนุฉ ุงูุญูุฏ ูุฑุฉ ู ุงุญุฏู ู ุงุฑุจุนูู ูุฑุฉ ูู ูู ุงููู ุงุญุฏ ุ ูู ุฑูุนุชูู ุจุชุณููู ุ ูุงุฐุง ุณูู ูู ุงูุฑุงุจุนุฉ ูุฑุฃ ูู ูู ุงููู ุงุญุฏ ุงุญุฏู ู ุฎูุณูู ูุฑุฉ ุ ู ูุงู ุงูููู ุตู ุนูู ูุญูุฏ ู ุขู ูุญูุฏ ุงุญุฏู ู ุฎูุณูู ูุฑุฉ ุซู ูุณุฌุฏ ู ูููู ูู ุณุฌูุฏู ( ูุง ุงููู ) ูุงุฆุฉ ูุฑุฉ ุ ู ุชุฏุนู ุจูุง ุดุฆุช .' },
                        { type: 'copyable', title: '๐ฟ ุฐูุฑ ุงูููู:', text: 'ูุง ุฑุฒุงู', subtext: 'ูฃููจ ูุฑุฉ' }
                    ]
                },
                "ุงููุณุจุญุฉ": {
                    sections: [
                        { type: 'tasbih_tool' }
                    ]
                },
                
                "ุงูููุงุฌุงุฉ ุงูุฎูุณ ุนุดุฑุฉ": {
                    sections: [
                        { type: 'card', content: '<strong class="text-blue-600 text-lg"> ุงูููุงุฌุงุฉ ุงูุฎูุณ ุนุดุฑุฉ:</strong>' },
                        { type: 'audio', title: 'ููุงุฌุงุฉ ุงูุชุงุฆุจูู', url: 'https://shiavoice.com/media/edaie/munajat_imam_sejad/mu7amed_el7ujerat/ooo13w88n93y.mp3' },
                        { type: 'audio', title: 'ููุงุฌุงุฉ ุงูุดุงููู', url: 'https://shiavoice.com/media/edaie/munajat_imam_sejad/mu7amed_el7ujerat/xsc2pjijopwh.mp3' },
                        { type: 'audio', title: 'ููุงุฌุงุฉ ุงูุฎุงุฆููู', url: 'https://shiavoice.com/media/edaie/munajat_imam_sejad/mu7amed_el7ujerat/wxd55umyeb0j.mp3' },
                        { type: 'audio', title: 'ููุงุฌุงุฉ ุงูุฑุงุฌูู', url: 'https://shiavoice.com/media/edaie/munajat_imam_sejad/mu7amed_el7ujerat/smd8w0wkk1ut.mp3' },
                        { type: 'audio', title: 'ููุงุฌุงุฉ ุงูุฑุงุบุจูู', url: 'https://shiavoice.com/media/edaie/munajat_imam_sejad/mu7amed_el7ujerat/krn1mtnex9pg.mp3' },
                        { type: 'audio', title: 'ููุงุฌุงุฉ ุงูุดุงูุฑูู', url: 'https://shiavoice.com/media/edaie/munajat_imam_sejad/mu7amed_el7ujerat/rqgsi180c95h.mp3' },
                        { type: 'audio', title: 'ููุงุฌุงุฉ ุงููุทูุนูู ููู', url: 'https://shiavoice.com/media/edaie/munajat_imam_sejad/mu7amed_el7ujerat/dkewntv844en.mp3' },
                        { type: 'audio', title: 'ููุงุฌุงุฉ ุงููุฑูุฏูู', url: 'https://shiavoice.com/media/edaie/munajat_imam_sejad/mu7amed_el7ujerat/evo3qhfar821.mp3' },
                        { type: 'audio', title: 'ููุงุฌุงุฉ ุงููุญุจูู', url: 'https://shiavoice.com/media/edaie/munajat_imam_sejad/mu7amed_el7ujerat/kkwzkdw21gfp.mp3' },
                        { type: 'audio', title: 'ููุงุฌุงุฉ ุงููุชูุณููู', url: 'https://shiavoice.com/media/edaie/munajat_imam_sejad/mu7amed_el7ujerat/gxni80636gbh.mp3' },
                        { type: 'audio', title: 'ููุงุฌุงุฉ ุงูููุชูุฑูู', url: 'https://shiavoice.com/media/edaie/munajat_imam_sejad/mu7amed_el7ujerat/foemdaja6c88.mp3' },
                        { type: 'audio', title: 'ููุงุฌุงุฉ ุงูุนุงุฑููู', url: 'https://shiavoice.com/media/edaie/munajat_imam_sejad/mu7amed_el7ujerat/vqvw6yp3ha36.mp3' },
                        { type: 'audio', title: 'ููุงุฌุงุฉ ุงูุฐุงูุฑูู', url: 'https://shiavoice.com/media/edaie/munajat_imam_sejad/mu7amed_el7ujerat/ind9dmnkdbw5.mp3' },
                        { type: 'audio', title: 'ููุงุฌุงุฉ ุงููุนุชุตููู', url: 'https://shiavoice.com/media/edaie/munajat_imam_sejad/mu7amed_el7ujerat/rxprxn0g3dt5.mp3' },
                        { type: 'audio', title: 'ููุงุฌุงุฉ ุงูุฒุงูุฏูู', url: 'https://shiavoice.com/media/edaie/munajat_imam_sejad/mu7amed_el7ujerat/tk33q7ozib7m.mp3' }
                    ]
                },

                "ุงุฏุนูุฉ": {
                    sections: [
                        { type: 'card', content: '<strong class="text-blue-600 text-lg"> ุงุฏุนูุฉ ูุฎุชุงุฑุฉ:</strong>' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุงูุชุชุงุญ', url: 'https://shiavoice.com/media/edaie/asdarat/mohammed_elhujerat/rewa3_ed3ie/miy1dpzafhkv.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุนูุฏ', url: 'https://shiavoice.com/media/edaie/asdarat/mohammed_elhujerat/rewa3_ed3ie/fhbi9i9shpgd.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงููุฏุจุฉ', url: 'https://shiavoice.com/media/edaie/du3a_nudbe/yhd6n5mgs3nu.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุณูุงุช', url: 'https://shiavoice.com/media/edaie/du3a_elsmat/rn1rakrexfsi.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุตุจุงุญ', url: 'https://shiavoice.com/media/edaie/du3a_seba7/rja2ng536rix.mp3' }
                    ]
                },

                "ุงุฏุนูุฉ ุงูุฌูุนุฉ": {
                    sections: [
                        { type: 'card', content: '<strong class="text-blue-600 text-lg"> ุงุฏุนูุฉ ุงูุฌูุนุฉ:</strong>' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุฃููู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-1.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุซุงููุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-2.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุซุงูุซุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-3.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุฑุงุจุนุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-4.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุฎุงูุณุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-5.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุณุงุฏุณุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-6.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุณุงุจุนุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-7.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุซุงููุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-8.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุชุงุณุนุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-9.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุนุงุดุฑุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-10.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุญุงุฏูุฉ ุนุดุฑุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-11.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุซุงููุฉ ุนุดุฑุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-12.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุซุงูุซุฉ ุนุดุฑุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-13.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุฑุงุจุนุฉ ุนุดุฑุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-14.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุฎุงูุณุฉ ุนุดุฑุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-15.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุณุงุฏุณุฉ ุนุดุฑุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-16.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุณุงุจุนุฉ ุนุดุฑุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-17.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุซุงููุฉ ุนุดุฑุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-18.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุชุงุณุนุฉ ุนุดุฑุฉ', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-19.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุนุดุฑูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-20.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุญุงุฏูุฉ ูุงูุนุดุฑูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-21.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุซุงููุฉ ูุงูุนุดุฑูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-22.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุซุงูุซุฉ ูุงูุนุดุฑูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-23.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุฑุงุจุนุฉ ูุงูุนุดุฑูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-24.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุฎุงูุณุฉ ูุงูุนุดุฑูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-25.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุณุงุฏุณุฉ ูุงูุนุดุฑูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-26.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุณุงุจุนุฉ ูุงูุนุดุฑูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-27.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุซุงููุฉ ูุงูุนุดุฑูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-28.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุชุงุณุนุฉ ูุงูุนุดุฑูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-29.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุซูุงุซูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-30.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุญุงุฏูุฉ ูุงูุซูุงุซูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-31.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุซุงููุฉ ูุงูุซูุงุซูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-32.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุซุงูุซุฉ ูุงูุซูุงุซูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-33.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุฑุงุจุนุฉ ูุงูุซูุงุซูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-34.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุฎุงูุณุฉ ูุงูุซูุงุซูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-35.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุณุงุฏุณุฉ ูุงูุซูุงุซูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-36.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุณุงุจุนุฉ ูุงูุซูุงุซูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-37.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุซุงููุฉ ูุงูุซูุงุซูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-38.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุชุงุณุนุฉ ูุงูุซูุงุซูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-39.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุฃุฑุจุนูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-40.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุญุงุฏูุฉ ูุงูุฃุฑุจุนูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-41.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุซุงููุฉ ูุงูุฃุฑุจุนูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-42.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุซุงูุซุฉ ูุงูุฃุฑุจุนูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-43.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุฑุงุจุนุฉ ูุงูุฃุฑุจุนูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-44.mp3' },
                        { type: 'audio', title: 'ุฏุนุงุก ุงูุฌูุนุฉ ุงูุฎุงูุณุฉ ูุงูุฃุฑุจุนูู', url: 'https://alsaydalsadr.app/wp-content/uploads/2024/11/adeyhmp3-45.mp3' }
                    ]
                }
            };

            // ุชููุฆุฉ ุงูุตูุญุฉ
            const modalBackdrop = document.getElementById('daily-modal-backdrop');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const dayButtons = document.querySelectorAll('.day-button');
            const mainContainer = document.getElementById('main-container');
            const dayPageContainer = document.getElementById('day-page-container');
            const backButton = document.getElementById('back-button');
            const pageTitle = document.getElementById('page-title');
            const pageContent = document.getElementById('page-content');
            const copyToast = document.getElementById('copy-toast');
            const copyHelper = document.getElementById('copy-helper');
            const clickSound = document.getElementById('tasbih-click-sound');

            // ุฅุธูุงุฑ ุงูููุฏุงู ูุฑุฉ ูู ุงูููู
            (function showDailyModal() {
                const today = new Date().toDateString();
                const lastShownDate = localStorage.getItem('lastModalShownDate');
                if (lastShownDate !== today) {
                    modalBackdrop.style.display = 'flex';
                    localStorage.setItem('lastModalShownDate', today);
                }
                closeModalBtn.addEventListener('click', () => modalBackdrop.style.display = 'none');
                modalBackdrop.addEventListener('click', (e) => {
                    if (e.target === modalBackdrop) modalBackdrop.style.display = 'none';
                });
            })();

            // ุชูููุฒ ุงูููู
            (function highlightToday() {
                const dayMap = ["ุงูุฃุญุฏ", "ุงูุงุซููู", "ุงูุซูุงุซุงุก", "ุงูุฃุฑุจุนุงุก", "ุงูุฎููุณ", "ุงูุฌูุนุฉ", "ุงูุณุจุช"];
                try {
                    const todayIndex = new Date().getDay();
                    const todayArabic = dayMap[todayIndex];
                    dayButtons.forEach(button => {
                        if (button.getAttribute('data-day') === todayArabic) {
                            button.querySelector('.day-circle')?.classList.add('highlighted');
                        }
                    });
                } catch (e) {}
            })();

            // ุจูุงุก ุงูุตูุญุฉ
            function renderDayPage(dayName) {
                const data = daysData[dayName];
                if (!data) {
                    pageContent.innerHTML = '<p class="text-center text-gray-500">ูุง ููุฌุฏ ูุญุชูู.</p>';
                    return;
                }

                let html = '';
                data.sections.forEach(section => {
                    const style = section.style || 'text-gray-700';
                    switch (section.type) {
                        case 'card':
                            html += `<div class="content-card bg-gray-100/50 p-4 rounded-xl border border-gray-200 ${style} shadow-sm">${section.content}</div>`;
                            break;
                        case 'copyable':
                            html += `
                                <div class="content-card bg-white p-5 rounded-xl border border-gray-100 shadow-sm group relative">
                                    <div class="flex justify-between items-center mb-3">
                                        <h4 class="text-lg font-bold text-blue-600 flex items-center gap-2">
                                            <span class="material-symbols-rounded">stars</span>
                                            ${section.title}
                                        </h4>
                                        <button class="copy-btn p-2 rounded-full hover:bg-blue-50 text-blue-500 transition-colors" data-text="${section.text}">
                                            <span class="material-symbols-rounded">content_copy</span>
                                        </button>
                                    </div>
                                    <div class="bg-gray-50 p-4 rounded-lg border border-gray-100 mb-2">
                                        <p class="text-lg leading-loose font-medium text-gray-800" dir="rtl">${section.text}</p>
                                    </div>
                                    <p class="text-xs text-gray-400">${section.subtext}</p>
                                </div>`;
                            break;
                        case 'details':
                            html += `
                                <details>
                                    <summary>${section.title}</summary>
                                    <div class="details-content">${section.content}</div>
                                </details>`;
                            break;
                        case 'tasbih_tool':
                            // --- ููุทู ุงุณุชุฎุฑุงุฌ ุฐูุฑ ูุชุณุจูุญ ุงูููู ---
                            const dayMap = ["ุงูุฃุญุฏ", "ุงูุงุซููู", "ุงูุซูุงุซุงุก", "ุงูุฃุฑุจุนุงุก", "ุงูุฎููุณ", "ุงูุฌูุนุฉ", "ุงูุณุจุช"];
                            const todayIdx = new Date().getDay();
                            const todayName = dayMap[todayIdx];
                            const todayData = daysData[todayName];
                            
                            let dailyDhikr = { text: 'ูุง ููุฌุฏ', count: '' };
                            let dailyTasbih = { text: 'ูุง ููุฌุฏ', count: '' };

                            if(todayData) {
                                todayData.sections.forEach(s => {
                                    if(s.title && s.title.includes('ุฐูุฑ') && !s.title.includes('ุชุณุจูุญ')) {
                                        dailyDhikr = { text: s.text, count: s.subtext || '' };
                                    }
                                    if(s.title && s.title.includes('ุชุณุจูุญ')) {
                                        dailyTasbih = { text: s.text, count: s.subtext || '' };
                                    }
                                });
                            }

                             html += `
                                <div class="flex flex-col items-center justify-center space-y-8 py-8 animate-fade-in">
                                    
                                     <!-- Zikr Selector -->
                                     <div class="w-full max-w-md grid grid-cols-2 gap-3 text-sm font-bold mb-4">
                                         <!-- ุฒุฑ ุชุณุจูุญ ุงูุฒูุฑุงุก ุงููุจูุฑ -->
                                         <div class="col-span-2 neumo-outset zikr-option-btn cursor-pointer bg-blue-50/50" onclick="setZikrMode('zahra')">
                                            <span class="text-blue-600 text-lg mb-1">ุชุณุจูุญ ุงูุฒูุฑุงุก (ุน)</span>
                                            <span class="text-xs text-gray-400 font-normal">34 ุงููู ุฃูุจุฑ - 33 ุงูุญูุฏ ููู - 33 ุณุจุญุงู ุงููู</span>
                                         </div>

                                         <!-- ุฃุฒุฑุงุฑ ุงูููู -->
                                         <div class="neumo-outset zikr-option-btn cursor-pointer" onclick="setZikrMode('normal', '${dailyDhikr.text}', '${dailyDhikr.count}')">
                                            <span class="text-gray-600 mb-1">๐ฟ ุฐูุฑ ุงูููู</span>
                                            <span class="text-xs text-gray-400 font-normal truncate w-full" dir="rtl">${dailyDhikr.text}</span>
                                         </div>
                                         <div class="neumo-outset zikr-option-btn cursor-pointer" onclick="setZikrMode('normal', '${dailyTasbih.text}', '${dailyTasbih.count}')">
                                            <span class="text-gray-600 mb-1"> ุชุณุจูุญ ุงูููู</span>
                                            <span class="text-xs text-gray-400 font-normal truncate w-full" dir="rtl">${dailyTasbih.text}</span>
                                         </div>
                                     </div>

                                    <!-- Screen -->
                                    <div class="neumo-inset w-64 h-40 rounded-3xl flex flex-col items-center justify-center mb-4 relative overflow-hidden border-2 border-gray-100 px-4 text-center">
                                        <span id="zikr-text" class="text-gray-500 text-sm font-bold absolute top-4 w-full px-2">ุงุฎุชุฑ ุฐูุฑุงู ููุจุฏุก</span>
                                        <div class="flex items-baseline justify-center gap-2 mt-4 w-full">
                                            <span id="tasbih-count" class="text-7xl font-bold text-gray-700 font-[monospace] tracking-wider">0</span>
                                            <!-- Remaining Count Badge -->
                                            <span id="tasbih-remaining" class="text-lg text-gray-400 font-bold hidden bg-gray-100 px-2 py-1 rounded-lg shadow-inner"></span>
                                        </div>
                                        <!-- ูุคุดุฑ ููุฑุงุญู ุชุณุจูุญ ุงูุฒูุฑุงุก -->
                                        <div id="zahra-indicator" class="hidden flex gap-2 mt-2">
                                            <span id="ind-0" class="w-2 h-2 rounded-full bg-gray-300"></span>
                                            <span id="ind-1" class="w-2 h-2 rounded-full bg-gray-300"></span>
                                            <span id="ind-2" class="w-2 h-2 rounded-full bg-gray-300"></span>
                                        </div>
                                    </div>

                                    <!-- Buttons Container -->
                                    <div class="flex items-center gap-12">
                                        <!-- Reset -->
                                        <button onclick="resetTasbih()" class="neumo-outset-btn w-16 h-16 rounded-full text-red-400 hover:text-red-600 transition-colors" title="ุชุตููุฑ">
                                            <span class="material-symbols-rounded text-2xl">refresh</span>
                                        </button>

                                        <!-- Count (Big) -->
                                        <button id="tasbih-btn" onclick="incrementTasbih()" class="tasbih-btn neumo-outset w-36 h-36 rounded-full flex items-center justify-center text-blue-500 active:scale-95 transition-transform duration-100 bg-gray-100">
                                            <div class="neumo-outset w-28 h-28 rounded-full flex items-center justify-center bg-[#e0e5ec]">
                                                <span class="material-symbols-rounded text-6xl text-blue-500">touch_app</span>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            `;
                            break;
                        case 'audio':
                            // ุฅูุดุงุก ูุนุฑู ูุฑูุฏ ููู ูุดุบู
                            const uniqueId = 'audio-' + Math.random().toString(36).substr(2, 9);
                            const playerHtml = `
                                <div class="custom-player-card" id="player-card-${uniqueId}">
                                    <audio id="${uniqueId}" src="${section.url}" preload="none"></audio>
                                    <button class="play-btn" onclick="toggleAudio('${uniqueId}')">
                                        <span class="material-symbols-rounded text-2xl" id="icon-${uniqueId}">play_arrow</span>
                                    </button>
                                    <div class="w-full flex flex-col justify-center">
                                        <input type="range" class="custom-seek" id="seek-${uniqueId}" value="0" max="100" oninput="seekAudio('${uniqueId}', this.value)">
                                        <div class="flex justify-between text-[10px] text-gray-500 mt-1 px-1 font-bold">
                                            <span id="curr-${uniqueId}">00:00</span>
                                            <span id="dur-${uniqueId}">00:00</span>
                                        </div>
                                    </div>
                                </div>`;

                            if (dayName.includes('ุงุฏุนูุฉ') || dayName.includes('ุงูููุงุฌุงุฉ')) {
                                html += `
                                    <details>
                                        <summary class="font-semibold text-gray-700">${section.title}</summary>
                                        <div class="details-content pt-0 pb-2">
                                            ${playerHtml}
                                        </div>
                                    </details>`;
                            } else {
                                html += `
                                    <div class="content-card bg-white p-4 rounded-xl shadow-sm border border-gray-100">
                                        <p class="font-bold text-blue-600 mb-2 text-sm">${section.title}</p>
                                        ${playerHtml}
                                    </div>`;
                            }
                            break;
                    }
                });
                pageContent.innerHTML = html;
                
                // ุชูุนูู ูุณุชูุนู ุงูุฃุญุฏุงุซ ุงูุตูุชูุฉ ุจุนุฏ ุชุญููู ุงููุญุชูู
                setupAudioListeners();
            }

            // --- ูุธุงุฆู ุงููุณุจุญุฉ ุงููุญุฏุซุฉ --- //
            let tasbihState = {
                mode: 'normal', // 'normal' or 'zahra'
                count: 0,
                limit: null, // null means infinite
                zahraStage: 0, // 0: Allahu Akbar, 1: Alhamdulillah, 2: Subhanallah
                zahraCount: 0
            };

            const zahraConfig = [
                { text: 'ุงููู ุฃูุจุฑ', limit: 34 },
                { text: 'ุงูุญูุฏ ููู', limit: 33 },
                { text: 'ุณุจุญุงู ุงููู', limit: 33 }
            ];
            
            function parseArabicNumber(str) {
                if(!str) return null;
                // ุชุญููู ุงูุฃุฑูุงู ุงูุนุฑุจูุฉ ุฅูู ุฅูุฌููุฒูุฉ
                const arabicToEng = d => "ููกูขูฃูคูฅูฆูงูจูฉ".indexOf(d);
                let converted = str.replace(/[ู-ูฉ]/g, arabicToEng);
                // ุงุณุชุฎุฑุงุฌ ุงูุฑูู
                const match = converted.match(/\d+/);
                return match ? parseInt(match[0]) : null;
            }

            function playClick() {
                if(clickSound) {
                    clickSound.currentTime = 0;
                    clickSound.play().catch(e=>{});
                }
            }

            window.setZikrMode = function(mode, text, countText) {
                tasbihState.mode = mode;
                tasbihState.count = 0;
                tasbihState.limit = null;

                const label = document.getElementById('zikr-text');
                const display = document.getElementById('tasbih-count');
                const remainingDisplay = document.getElementById('tasbih-remaining');
                const indicator = document.getElementById('zahra-indicator');

                if (mode === 'zahra') {
                    tasbihState.zahraStage = 0;
                    tasbihState.zahraCount = 0;
                    label.textContent = zahraConfig[0].text;
                    display.textContent = 0;
                    
                    if(remainingDisplay) {
                        remainingDisplay.textContent = zahraConfig[0].limit;
                        remainingDisplay.classList.remove('hidden');
                    }
                    if(indicator) indicator.classList.remove('hidden');
                    updateZahraIndicators();

                } else {
                    label.textContent = text || 'ุณุจุญุงู ุงููู';
                    display.textContent = 0;
                    
                    // ูุญุงููุฉ ุงุณุชุฎุฑุงุฌ ุงูุนุฏุฏ ุงููุทููุจ ูู ุงููุต
                    const limit = parseArabicNumber(countText);
                    tasbihState.limit = limit;

                    if (limit) {
                        if(remainingDisplay) {
                            remainingDisplay.textContent = limit;
                            remainingDisplay.classList.remove('hidden');
                        }
                    } else {
                        if(remainingDisplay) remainingDisplay.classList.add('hidden');
                    }
                    
                    if(indicator) indicator.classList.add('hidden');
                }
                
                if (navigator.vibrate) navigator.vibrate(50);
            };

            function updateZahraIndicators() {
                for(let i=0; i<3; i++) {
                    const dot = document.getElementById(`ind-${i}`);
                    if(dot) {
                        if(i === tasbihState.zahraStage) dot.className = "w-2 h-2 rounded-full bg-blue-500";
                        else if(i < tasbihState.zahraStage) dot.className = "w-2 h-2 rounded-full bg-green-500";
                        else dot.className = "w-2 h-2 rounded-full bg-gray-300";
                    }
                }
            }

            window.incrementTasbih = function() {
                const display = document.getElementById('tasbih-count');
                const remainingDisplay = document.getElementById('tasbih-remaining');
                const label = document.getElementById('zikr-text');

                if(!display) return;

                // ุงูุตูุช ูุงูุงูุชุฒุงุฒ
                playClick();
                if (navigator.vibrate) navigator.vibrate(30);

                if (tasbihState.mode === 'normal') {
                    tasbihState.count++;
                    display.textContent = tasbihState.count;
                    
                    // ุชุญุฏูุซ ุงููุชุจูู
                    if(tasbihState.limit !== null && remainingDisplay) {
                        let rem = tasbihState.limit - tasbihState.count;
                        if (rem < 0) rem = 0;
                        remainingDisplay.textContent = rem;
                    }

                } else if (tasbihState.mode === 'zahra') {
                    // ุงุฐุง ุงูุชูุช ุงููุฑุงุญู
                    if (tasbihState.zahraStage >= 3) return;

                    tasbihState.zahraCount++;
                    display.textContent = tasbihState.zahraCount;

                    const currentLimit = zahraConfig[tasbihState.zahraStage].limit;

                    // ุชุญุฏูุซ ุงููุชุจูู
                    if(remainingDisplay) {
                        let rem = currentLimit - tasbihState.zahraCount;
                        remainingDisplay.textContent = rem;
                    }

                    // ุงูุชุญูู ูู ุงูุชูุงุก ุงููุฑุญูุฉ ุงูุญุงููุฉ
                    if (tasbihState.zahraCount >= currentLimit) {
                        tasbihState.zahraStage++;
                        
                        if (tasbihState.zahraStage < 3) {
                            // ุงูุงูุชูุงู ูููุฑุญูุฉ ุงูุชุงููุฉ
                            setTimeout(() => {
                                tasbihState.zahraCount = 0;
                                display.textContent = 0;
                                label.textContent = zahraConfig[tasbihState.zahraStage].text;
                                
                                if(remainingDisplay) remainingDisplay.textContent = zahraConfig[tasbihState.zahraStage].limit;
                                
                                updateZahraIndicators();
                                if (navigator.vibrate) navigator.vibrate([50, 50, 50]);
                            }, 200); 
                        } else {
                            // ุงูุชูุงุก ุงูุชุณุจูุญ ูุงููุงู
                            label.textContent = "ุชูุจู ุงููู ุฃุนูุงููู";
                            label.classList.add("text-green-600");
                            if(remainingDisplay) remainingDisplay.classList.add('hidden');
                            updateZahraIndicators();
                            if (navigator.vibrate) navigator.vibrate([100, 50, 100]);
                        }
                    }
                }
            };

            window.resetTasbih = function() {
                const display = document.getElementById('tasbih-count');
                const remainingDisplay = document.getElementById('tasbih-remaining');
                const label = document.getElementById('zikr-text');

                if(display) {
                    tasbihState.count = 0;
                    display.textContent = 0;
                    
                    if(tasbihState.mode === 'zahra') {
                        tasbihState.zahraStage = 0;
                        tasbihState.zahraCount = 0;
                        label.textContent = zahraConfig[0].text;
                        label.classList.remove("text-green-600");
                        if(remainingDisplay) {
                            remainingDisplay.textContent = zahraConfig[0].limit;
                            remainingDisplay.classList.remove('hidden');
                        }
                        updateZahraIndicators();
                    } else {
                        // Reset normal mode remaining if limit exists
                        if (tasbihState.limit !== null && remainingDisplay) {
                            remainingDisplay.textContent = tasbihState.limit;
                        }
                    }
                    
                    if (navigator.vibrate) navigator.vibrate(50);
                }
            };

            // --- ูุธุงุฆู ูุดุบู ุงูุตูุช ุงูุฌุฏูุฏ --- //

            // ุฏุงูุฉ ูุณุงุนุฏุฉ ูุชูุณูู ุงูููุช
            window.formatTime = function(seconds) {
                if (isNaN(seconds)) return "00:00";
                const m = Math.floor(seconds / 60);
                const s = Math.floor(seconds % 60);
                return `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
            };

            // ุชุดุบูู/ุฅููุงู
            window.toggleAudio = function(id) {
                const audio = document.getElementById(id);
                const icon = document.getElementById(`icon-${id}`);
                const btn = icon.parentElement;

                if (audio.paused) {
                    // ุฅููุงู ุฌููุน ุงูููุงุทุน ุงูุฃุฎุฑู
                    document.querySelectorAll('audio').forEach(a => {
                        if (a.id !== id && a.id !== 'tasbih-click-sound' && !a.paused) {
                            a.pause();
                            const otherIcon = document.getElementById(`icon-${a.id}`);
                            if(otherIcon) otherIcon.textContent = 'play_arrow';
                            if(otherIcon && otherIcon.parentElement) otherIcon.parentElement.classList.remove('playing');
                        }
                    });

                    audio.play();
                    icon.textContent = 'pause';
                    btn.classList.add('playing');
                } else {
                    audio.pause();
                    icon.textContent = 'play_arrow';
                    btn.classList.remove('playing');
                }
            };

            // ุชูุฏูู ูุชุฃุฎูุฑ
            window.seekAudio = function(id, val) {
                const audio = document.getElementById(id);
                if(audio.duration) {
                    const seekTo = audio.duration * (val / 100);
                    audio.currentTime = seekTo;
                }
            };

            // ุฅุนุฏุงุฏ ูุณุชูุนู ุงูุฃุญุฏุงุซ (ูุชู ุงุณุชุฏุนุงุคู ุจุนุฏ ุงูุฑููุฏุฑ)
            function setupAudioListeners() {
                const audios = document.querySelectorAll('audio');
                audios.forEach(audio => {
                    // ุชุฌุงูู ุตูุช ุงูููุฑ
                    if(audio.id === 'tasbih-click-sound') return;

                    const id = audio.id;
                    const seekSlider = document.getElementById(`seek-${id}`);
                    const currTime = document.getElementById(`curr-${id}`);
                    const durTime = document.getElementById(`dur-${id}`);
                    const icon = document.getElementById(`icon-${id}`);
                    const btn = icon.parentElement;

                    // ุนูุฏ ุชุญููู ุงูุจูุงูุงุช ุงููุตููุฉ (ููุนุฑูุฉ ุงูุทูู)
                    audio.addEventListener('loadedmetadata', () => {
                        durTime.textContent = formatTime(audio.duration);
                    });

                    // ุชุญุฏูุซ ุงูุดุฑูุท ูุงูููุช ุฃุซูุงุก ุงูุชุดุบูู
                    audio.addEventListener('timeupdate', () => {
                        if(audio.duration) {
                            const progress = (audio.currentTime / audio.duration) * 100;
                            seekSlider.value = progress;
                            currTime.textContent = formatTime(audio.currentTime);
                        }
                    });

                    // ุนูุฏ ุงูุชูุงุก ุงูููุทุน
                    audio.addEventListener('ended', () => {
                        icon.textContent = 'play_arrow';
                        btn.classList.remove('playing');
                        seekSlider.value = 0;
                        currTime.textContent = "00:00";
                    });
                });
            }


            // ุงููุณุฎ
            function copyToClipboard(text) {
                try {
                    copyHelper.value = text;
                    copyHelper.select();
                    document.execCommand('copy');
                    copyToast.classList.remove('opacity-0', 'translate-y-5');
                    setTimeout(() => copyToast.classList.add('opacity-0', 'translate-y-5'), 2000);
                } catch (e) {}
            }

            // ุงูุชููู
            dayButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const dayName = btn.getAttribute('data-day');
                    pageTitle.textContent = dayName.includes('ุงุฏุนูุฉ') || dayName.includes('ุงูููุงุฌุงุฉ') ? dayName : `ุฃุนูุงู ููู ${dayName}`;
                    renderDayPage(dayName);
                    mainContainer.classList.add('hidden');
                    dayPageContainer.classList.remove('hidden');
                    setTimeout(() => dayPageContainer.classList.remove('opacity-0'), 50);
                    window.scrollTo(0, 0);
                });
            });

            backButton.addEventListener('click', () => {
                dayPageContainer.classList.add('opacity-0');
                setTimeout(() => {
                    dayPageContainer.classList.add('hidden');
                    mainContainer.classList.remove('hidden');
                    // ุฅููุงู ุฌููุน ุงูุฃุตูุงุช ุนูุฏ ุงูุฑุฌูุน
                    document.querySelectorAll('audio').forEach(a => { 
                        if(a.id !== 'tasbih-click-sound') {
                            a.pause(); 
                            a.currentTime = 0; 
                        }
                    });
                }, 300);
            });

            pageContent.addEventListener('click', (e) => {
                const btn = e.target.closest('.copy-btn');
                if (btn) copyToClipboard(btn.getAttribute('data-text'));
            });

        });
    </script>
</body>
</html>


